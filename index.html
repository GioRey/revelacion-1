<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Revelaci√≥n de G√©nero - Guadalupe y Martin</title>

    <!-- METADATOS PARA COMPARTIR (WHATSAPP/FACEBOOK) -->
    <meta property="og:title" content="Revelaci√≥n de G√©nero - Guadalupe y Martin üë∂">
    <meta property="og:description" content="¬°Hola! Tenemos una sorpresa. Acomp√°√±anos el S√°bado 6 de Diciembre a descubrir si es Ni√±o o Ni√±a. ¬°Toca aqu√≠ para ver la invitaci√≥n!">
    
    <!-- IMPORTANTE: Reemplaza 'tu-usuario' y 'nombre-repo' con tus datos reales de GitHub -->
    <!-- Ejemplo: https://juanperez.github.io/mi-bebe/reveal.png -->
    <meta property="og:image" content="https://giorey.github.io/revelaci√≥n-1/reveal.png">
    
    <!-- Dimensiones recomendadas para WhatsApp (puedes dejar estas o ajustarlas si tu imagen es diferente) -->
    <meta property="og:image:width" content="1000">
    <meta property="og:image:height" content="1000">
    <meta property="og:type" content="website">
    
    <!-- URL de tu sitio -->
    <meta property="og:url" content="https://tu-usuario.github.io/nombre-repo/">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React Framework -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Animaciones -->
    <script src="https://unpkg.com/framer-motion@10.12.16/dist/framer-motion.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    
    <!-- Fuentes -->
    <link href="https://fonts.googleapis.com/css2?family=Chewy&family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Quicksand', sans-serif;
            background: #fff;
            overflow: hidden; /* Evita scroll del body */
            touch-action: manipulation;
            user-select: none;
        }
        
        .font-fun { font-family: 'Chewy', cursive; letter-spacing: 1px; }

        /* Fondo animado suave */
        .bg-gradient-move {
            background: linear-gradient(-45deg, #e0f2fe, #fdf2f8, #eff6ff, #fff1f2);
            background-size: 400% 400%;
            animation: gradientBG 12s ease infinite;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .balloon-string {
            width: 2px;
            height: 45px;
            background: rgba(0,0,0,0.15);
            margin: 0 auto;
        }
        
        /* Scrollbar personalizada muy sutil */
        .custom-scroll::-webkit-scrollbar {
            width: 4px;
        }
        .custom-scroll::-webkit-scrollbar-track {
            background: transparent;
        }
        .custom-scroll::-webkit-scrollbar-thumb {
            background-color: rgba(0,0,0,0.1);
            border-radius: 10px;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const { motion, AnimatePresence } = window.Motion;

        // --- ‚úèÔ∏è DATOS DE GUADALUPE Y MARTIN ---
        const DATA = {
            parents: "Guadalupe y Martin",
            dateLarge: "6 DIC",
            year: "2025",
            time: "6:00 PM",
            placeName: "Casa de la mam√°",
            address: "Cda.del Pino 14, Cdad. L√≥pez Mateos, Edo. M√©x",
            whatsapp: "525578107519", 
            mapLink: "https://maps.app.goo.gl/qzjYWB5WNRY7yVmh8"
        };

        // --- √çCONOS SVG ---
        const IconMap = () => <svg className="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>;
        const IconCal = () => <svg className="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></svg>;
        const IconWA = () => <svg className="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>;

        const App = () => {
            const [stage, setStage] = useState('intro'); 
            const [score, setScore] = useState(0);
            const [vote, setVote] = useState(null); 
            const TARGET = 6;

            const handleGameWin = () => {
                setTimeout(() => setStage('vote'), 500);
            };

            const handleVote = (selection) => {
                setVote(selection);
                confetti({
                    particleCount: 30,
                    spread: 50,
                    origin: { y: 0.7 },
                    colors: selection === 'boy' ? ['#60a5fa'] : ['#f472b6']
                });
                
                setTimeout(() => {
                    setStage('revealing');
                    setTimeout(() => {
                        setStage('card');
                        const end = Date.now() + 2000;
                        (function frame() {
                            confetti({ particleCount: 4, angle: 60, spread: 55, origin: { x: 0 }, colors: ['#60a5fa', '#f472b6'] });
                            confetti({ particleCount: 4, angle: 120, spread: 55, origin: { x: 1 }, colors: ['#60a5fa', '#f472b6'] });
                            if (Date.now() < end) requestAnimationFrame(frame);
                        }());
                    }, 1500);
                }, 1500);
            };

            return (
                <div className="w-full h-[100dvh] bg-gradient-move relative flex flex-col items-center justify-center overflow-hidden">
                    <AnimatePresence mode="wait">
                        {stage === 'intro' && <Intro key="intro" onStart={() => setStage('game')} />}
                        {stage === 'game' && <Game key="game" score={score} setScore={setScore} target={TARGET} onWin={handleGameWin} />}
                        {stage === 'vote' && <VoteScreen key="vote" onVote={handleVote} />}
                        {stage === 'revealing' && <TransitionScreen key="trans" vote={vote} />}
                        {stage === 'card' && <FinalCard key="card" data={DATA} vote={vote} />}
                    </AnimatePresence>
                </div>
            );
        };

        // --- PANTALLAS ---
        const Intro = ({ onStart }) => (
            <motion.div 
                initial={{opacity:0, scale:0.8}} animate={{opacity:1, scale:1}} exit={{opacity:0, y:-100}}
                className="text-center z-10 p-6"
            >
                <div className="text-6xl mb-4 animate-bounce">üéÅ</div>
                <h1 className="text-5xl text-slate-700 font-fun mb-2">¬°Sorpresa!</h1>
                <p className="text-xl text-slate-500 mb-8 font-bold">Tenemos algo que contarte...</p>
                <button onClick={onStart} className="bg-slate-800 text-white text-xl px-10 py-4 rounded-full font-bold shadow-xl hover:scale-105 active:scale-95 transition-all">
                    Descubrir
                </button>
            </motion.div>
        );

        const Game = ({ score, setScore, target, onWin }) => {
            const [balloons, setBalloons] = useState(Array.from({length:10}, (_,i)=>({id:i, x:Math.random()*80+10, s:Math.random()*3+5, d:Math.random()*2, c:Math.random()>.5?'bg-blue-400':'bg-pink-400'})));
            
            const pop = (id, e) => {
                const rect = e.target.getBoundingClientRect();
                confetti({ particleCount: 10, spread: 30, origin: { x: (rect.x+rect.width/2)/window.innerWidth, y: rect.y/window.innerHeight } });
                setBalloons(prev => prev.filter(b => b.id !== id));
                const newScore = score + 1;
                setScore(newScore);
                if (newScore >= target) onWin();
            };

            return (
                <motion.div initial={{opacity:0}} animate={{opacity:1}} exit={{opacity:0}} className="w-full h-full relative">
                    <div className="absolute top-10 w-full text-center z-20 pointer-events-none">
                        <span className="bg-white/80 backdrop-blur px-6 py-2 rounded-full text-slate-600 font-bold shadow-md">
                            Revienta {target - score} globos üéà
                        </span>
                    </div>
                    {balloons.map(b => (
                        <motion.div key={b.id}
                            initial={{y:"110vh"}} animate={{y:"-20vh"}} transition={{duration:b.s, delay:b.d, repeat:Infinity, ease:"linear"}}
                            className="absolute touch-manipulation cursor-pointer" style={{left:`${b.x}%`}} onPointerDown={(e)=>pop(b.id, e)}
                        >
                            <div className={`w-20 h-24 ${b.c} rounded-[50%] shadow-lg opacity-90 flex justify-center items-center relative`}>
                                <div className="w-4 h-8 bg-white/20 rounded-full rotate-45 absolute top-3 right-4"></div>
                            </div>
                            <div className="balloon-string"></div>
                        </motion.div>
                    ))}
                </motion.div>
            );
        };

        const VoteScreen = ({ onVote }) => (
            <motion.div 
                initial={{scale:0.5, opacity:0}} animate={{scale:1, opacity:1}} exit={{scale:1.5, opacity:0}}
                className="w-full max-w-md px-6 text-center z-20"
            >
                <div className="bg-white/90 backdrop-blur-xl p-8 rounded-3xl shadow-2xl border-4 border-white">
                    <h2 className="text-3xl font-fun text-slate-800 mb-2">¬°Alto ah√≠! ‚úã</h2>
                    <p className="text-lg text-slate-600 font-bold mb-6">¬øQu√© dice tu intuici√≥n?</p>
                    
                    <div className="grid grid-cols-2 gap-4">
                        <button onClick={() => onVote('boy')} className="group relative bg-blue-50 hover:bg-blue-100 p-6 rounded-2xl border-2 border-blue-200 transition-all active:scale-95">
                            <div className="text-4xl mb-2 group-hover:scale-110 transition-transform">üíô</div>
                            <span className="font-bold text-blue-500 block">NI√ëO</span>
                        </button>
                        
                        <button onClick={() => onVote('girl')} className="group relative bg-pink-50 hover:bg-pink-100 p-6 rounded-2xl border-2 border-pink-200 transition-all active:scale-95">
                            <div className="text-4xl mb-2 group-hover:scale-110 transition-transform">üíñ</div>
                            <span className="font-bold text-pink-500 block">NI√ëA</span>
                        </button>
                    </div>
                    <p className="text-xs text-slate-400 mt-4">Toca uno para continuar...</p>
                </div>
            </motion.div>
        );

        const TransitionScreen = ({ vote }) => (
            <motion.div 
                initial={{opacity:0}} animate={{opacity:1}} exit={{opacity:0}}
                className="text-center z-30"
            >
                <h2 className="text-4xl font-fun text-slate-700 mb-4">
                    {vote === 'boy' ? '¬°Team Blue registrado! üöô' : '¬°Team Pink registrado! üéÄ'}
                </h2>
                <p className="text-xl text-slate-500">Ahora s√≠, aqu√≠ est√°n los detalles...</p>
                <div className="mt-8 animate-spin rounded-full h-12 w-12 border-b-4 border-slate-800 mx-auto"></div>
            </motion.div>
        );

        // --- TARJETA FINAL RESPONSIVA (FIXED) ---
        const FinalCard = ({ data, vote }) => (
            <motion.div 
                initial={{y:50, opacity:0}} animate={{y:0, opacity:1}} transition={{type:"spring", bounce:0.4}}
                className="w-full max-w-sm px-4 z-40 flex items-center justify-center h-full py-4"
            >
                {/* Usamos max-height en dvh y flex layout para asegurar que todo quepa */}
                <div className="bg-white w-full rounded-[2rem] shadow-2xl overflow-hidden relative flex flex-col max-h-[85dvh]">
                    
                    {/* Header Decorativo (Fijo, no scrollea) */}
                    <div className="h-20 shrink-0 bg-gradient-to-r from-blue-300 via-purple-300 to-pink-300 relative">
                        <div className="absolute -bottom-8 left-0 w-full flex justify-center">
                            <div className="w-16 h-16 bg-white rounded-full p-1 shadow-lg flex items-center justify-center text-3xl z-10">
                                üë∂
                            </div>
                        </div>
                        <div className="absolute inset-0 opacity-20" style={{backgroundImage: 'radial-gradient(#fff 2px, transparent 2px)', backgroundSize: '10px 10px'}}></div>
                    </div>

                    {/* Contenido Central (con Scroll si la pantalla es muy peque√±a) */}
                    <div className="pt-10 pb-2 px-5 text-center flex-1 flex flex-col gap-3 overflow-y-auto custom-scroll">
                        
                        <div className="shrink-0">
                            <p className="text-[10px] font-bold tracking-[0.2em] text-slate-400 uppercase mb-1">Est√°s invitado al</p>
                            <h1 className="text-3xl font-fun text-slate-800 leading-none mb-1">Revelaci√≥n de G√©nero</h1>
                            <h2 className="text-lg font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-pink-500 leading-tight">{data.parents}</h2>
                        </div>

                        {/* Fecha/Hora */}
                        <div className="bg-slate-50 rounded-xl p-2 flex items-center justify-between border border-slate-100 shrink-0">
                            <div className="text-left">
                                <div className="flex items-center gap-1 text-slate-400 mb-1">
                                    <IconCal /> <span className="text-[10px] font-bold uppercase">Fecha</span>
                                </div>
                                <p className="font-bold text-slate-800 text-lg leading-none">{data.dateLarge}</p>
                                <p className="text-[10px] text-slate-500">{data.year}</p>
                            </div>
                            <div className="h-8 w-[1px] bg-slate-200"></div>
                            <div className="text-right">
                                <div className="flex items-center gap-1 justify-end text-slate-400 mb-1">
                                    <span className="text-[10px] font-bold uppercase">Hora</span> <IconCal /> 
                                </div>
                                <p className="font-bold text-slate-800 text-lg leading-none">{data.time}</p>
                                <p className="text-[10px] text-slate-500">Recepci√≥n</p>
                            </div>
                        </div>

                        {/* Lugar */}
                        <div className="text-left px-2 shrink-0">
                            <div className="flex items-center gap-2 text-slate-400 mb-1">
                                <IconMap /> <span className="text-[10px] font-bold uppercase">Ubicaci√≥n</span>
                            </div>
                            <p className="font-bold text-slate-800 text-base leading-tight">{data.placeName}</p>
                            <p className="text-xs text-slate-500 mb-1 leading-tight">{data.address}</p>
                            <a href={data.mapLink} target="_blank" className="inline-block text-[10px] font-bold text-blue-500 border border-blue-200 px-3 py-1 rounded-full hover:bg-blue-50 transition-colors">
                                Ver en Mapa ‚ûú
                            </a>
                        </div>

                        {/* DIN√ÅMICA PA√ëALES VS TOALLITAS */}
                        <div className="bg-slate-50 rounded-xl p-3 border border-dashed border-slate-300 text-xs text-slate-600 shrink-0 mb-2">
                            <p className="mb-1">Tu intuici√≥n dice: <strong className={vote==='boy'?'text-blue-500':'text-pink-500'}>{vote === 'boy' ? 'NI√ëO' : 'NI√ëA'}</strong></p>
                            
                            {/* Aqu√≠ est√° la l√≥gica que pediste */}
                            <p className="font-bold text-sm my-1 text-slate-800">
                                {vote === 'boy' ? '¬°Te toca traer toallitas! üõÅ' : '¬°Te toca traer pa√±ales! üë∂üèª'}
                            </p>
                            
                            <p className="text-[10px] text-slate-400">¬°Viste de ese color para la fiesta!</p>
                        </div>
                    </div>

                    {/* Footer (Fijo, siempre visible) */}
                    <div className="p-4 pt-0 bg-white shrink-0">
                        <a href={`https://wa.me/${data.whatsapp}?text=Hola! Confirmo mi asistencia al Gender Reveal. Soy Team ${vote === 'boy' ? 'Ni√±o' : 'Ni√±a'}!`} 
                           className="bg-slate-900 text-white w-full py-3 rounded-xl font-bold shadow-lg flex items-center justify-center gap-2 hover:bg-slate-800 active:scale-95 transition-all">
                            <IconWA /> Confirmar Asistencia
                        </a>
                    </div>
                </div>
            </motion.div>
        );

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
